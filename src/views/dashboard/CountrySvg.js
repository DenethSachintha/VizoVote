import { CPopover } from "@coreui/react";
import React, { useEffect } from "react";

const numberPaths = [
  { districtId: 'LK-11', path: "M72.076,457.218L74.532,463.766L71.029,464.403L70.99199999999999,464.182C70.99199999999999,464.182,64.984,461.463,60.08299999999999,468.55400000000003C58.76199999999999,470.45200000000006,54.62899999999999,460.365,54.62899999999999,460.365L42.62199999999999,471.818L38.26499999999999,469.08599999999996H38.260999999999996L31.280999999999995,471.23699999999997L32.769999999999996,478.179C31.059999999999995,477.573,28.726999999999997,477.001,26.258999999999997,477.282L26.144999999999996,477.328C25.731999999999996,476.166,25.391999999999996,475.2,25.168999999999997,474.551C24.923999999999996,473.806,24.629999999999995,472.747,24.324999999999996,471.514H24.320999999999994C23.951999999999995,470.044,23.553999999999995,468.315,23.158999999999995,466.507C22.695999999999994,464.44,20.263999999999996,452.202,20.263999999999996,452.202L19.528999999999996,449.634L16.986999999999995,440.74L21.901999999999994,435.834C22.078999999999994,435.117,21.725999999999996,432.97,21.175999999999995,430.425L21.197999999999993,430.44800000000004C21.778999999999993,430.89200000000005,22.582999999999995,431.54300000000006,23.267999999999994,432.21400000000006C24.075999999999993,433.0040000000001,24.737999999999992,433.8380000000001,24.737999999999992,434.4320000000001C24.737999999999992,434.72800000000007,24.728999999999992,435.00000000000006,24.715999999999994,435.2900000000001C24.660999999999994,436.62000000000006,24.510999999999996,437.94900000000007,24.510999999999996,437.95400000000006S24.860999999999997,438.55300000000005,25.386999999999997,439.42500000000007C25.404999999999998,439.46900000000005,25.404999999999998,439.46900000000005,25.386999999999997,439.42500000000007C25.386999999999997,439.42500000000007,28.926999999999996,437.08000000000004,30.468999999999998,436.8620000000001C31.702999999999996,436.6830000000001,34.204,437.0640000000001,35.152,437.2270000000001C35.107,437.9720000000001,37.721000000000004,437.2650000000001,37.076,439.7190000000001C37.009,439.9650000000001,36.904,440.7720000000001,36.904,440.9180000000001L42.622,441.70300000000015L49.17,441.29400000000015L52.442,445.80400000000014L54.488,446.21400000000017L57.759,442.1240000000002L62.806,439.67800000000017L68.465,437.5280000000002L68.81,438.4340000000002L74.528,439.5420000000002L75.77000000000001,441.7790000000002L76.025,442.77100000000024L77.394,448.2000000000002L77.40400000000001,448.2550000000002L70.73800000000001,451.0730000000002L72.076,457.218Z"},
   { districtId: 'LK-12', path: "M30,20 L50,10 L50,90" },
  // Add more paths as needed
];

const CountrySvg = ({ district }) => {
  useEffect(() => {
    renderDistrictWithPopover(district);
  }, [district]);

  const DistrictSvg = ({ district }) => {
    const matchedPath = numberPaths.find((item) => item.districtId === district.id);

    if (!matchedPath) return null; // Return nothing if no matching path is found

    return (
      <path
        key={district.id}
        d={matchedPath.path}
        id={district.id}
        title={district.name}
        fill={district.color}
        className="district-path"
      />
    );
  };

  const renderDistrictWithPopover = (district) => {
    // Check if district.party is available
    if (district.party) {
      return (
        <CPopover
          trigger={['hover', 'focus']}
          title={district.name}
          content={`${district.party} got total votes ${district.votes}`}
          placement="right"
        >
          <DistrictSvg district={district} />
        </CPopover>
      );
    }

    // If district.party is not available, return just the pathElement
    return <DistrictSvg district={district} />;
  };

  return renderDistrictWithPopover(district);
};

export default CountrySvg;
